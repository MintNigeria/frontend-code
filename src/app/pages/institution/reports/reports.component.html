<div class="bg-white p-6">
  <!--Header-->
  <div class="flex  items-center md:gap-4 gap-2 ">
    <div>
      <img [routerLink]="'/main/requests'" src="assets/images/icons/home.svg" alt="home-icon">
    </div>
    <div>
      <img src="assets/images/icons/forward_arrow.svg" alt="forward-arrow">
    </div>

    <div>
      <p class="text-primaryBlue font-inter md:text-base text-sm font-medium cursor-pointer">
        Reports
      </p>

    </div>

  </div>
  <div class="md:px-5">
    <div class="items-center my-2">
      <h4 class="font-medium font-poppins text-4xl  text-darkGray my-3">
        Reports
      </h4>

    </div>
  </div>
  <!---->

  <!--Filters-->

  <div class="w-full  rounded-xl shadow-sm p-6 border-none  bg-tabBlue">
    <div>
      <div class="flex md:flex-row md:justify-between md:items-center  flex-col w-full">
        <div class="lg:flex lg:justify-between gap-4">
          <div class="lg:justify-between gap-4">
            <p class="text-failedNormal font-inter text-sm font-medium cursor-pointer mb-2">
              Date
            </p>
            <div class="dropdown dropdown-bottom">
              <label tabindex="0" (click)="showDate = false;"
                class="flex justify-between items-center bg-white rounded-[10px] border border-inputBg w-[160px] h-[40px] py-[14px] px-3 cursor-pointer">
                <p class="my-0 text-black font-inter font-medium text-sm">{{ selectedOption }}</p>
                <img src="assets/images/icons/downward_arrow.svg" alt="downward_arrow">
              </label>
              <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-white text-black rounded-box w-52"
                [ngClass]="showDate? 'hidden' : 'block'">
                <li><a (click)="changeRange(0, 'All Time') ">All Time</a></li>
                <li><a (click)="changeRange(3, '30 Days')">30 Days</a></li>
                <li><a (click)="changeRange(2, '7 days' )">7 Days</a></li>
                <li><a (click)="changeRange(1, '24 Hours')">24 Hours</a></li>
                <li>
                  <a (click)="changeRange(5, 'Custom Period')">Custom Period</a>
                </li>
              </ul>
            </div>
          </div>

          <div class="lg:justify-between gap-4">
            <p class="text-[#344054] font-inter text-sm font-medium cursor-pointer mb-2">
              Document Type
            </p>
            <div class="dropdown dropdown-bottom">
              <label tabindex="0" (click)="showDocType = false"
              [ngClass]="showDocType? 'w-fit' : 'w-[160px]'"
                class="flex justify-between items-center bg-white rounded-[10px] border border-inputBg w-[160px] h-[40px] py-[14px] px-3 cursor-pointer">
                <p class="my-0 text-black font-inter font-medium text-sm">{{ documentType }}</p>
                <img src="assets/images/icons/downward_arrow.svg">
              </label>
              <ul tabindex="0" [ngClass]="showDocType? 'hidden' : 'block'"
                class="dropdown-content h-64 overflow-y-scroll menu p-2 shadow bg-white text-black rounded-box w-72">
                <li><a (click)="documentType='All'">All</a></li>
                <li><a (click)="changeDocumentType(unit.documentTypeName)"
                    *ngFor="let unit of processingFeeList">{{unit.documentTypeName}}</a></li>
              </ul>
            </div>
          </div>

          <div class="lg:justify-between gap-4">
            <p class="text-failedNormal font-inter text-sm font-medium cursor-pointer mb-2">
              Industry
            </p>
            <div class="dropdown dropdown-bottom">
              <label tabindex="0" (click)="showIndustry = false;"
                class="flex justify-between items-center bg-white rounded-[10px] border border-inputBg w-[160px] h-[40px] py-[14px] px-3 cursor-pointer">
                <p class="my-0 text-black font-inter font-medium text-sm">{{ selectedSector }}</p>
                <img src="assets/images/icons/downward_arrow.svg" alt="downward_arrow">
              </label>
              <ul tabindex="0" [ngClass]="showIndustry? 'hidden' : 'block'"
                class="dropdown-content h-64 overflow-y-scroll menu p-2 shadow bg-white text-black rounded-box w-72">
                <li><a (click)="selectedSector='All'">All</a></li>
                <li><a (click)="changeIndustryType(unit.name)" *ngFor="let unit of industrtList">{{unit.name}}</a></li>

              </ul>
            </div>
          </div>

          <div class="flex items-center mt-6">
            <button type="button"
              class="bg-[#4086EF] text-white font-medium font-inter text-xs w-[80px] h-[40px] rounded-xl"
              (click)="addFilter()">
              Generate
            </button>
            <button class="bg-none text-[#4086EF] font-medium font-inter text-xs w-[80px] h-[40px] rounded"
              (click)="clearFilter()">
              Clear Filter
            </button>

          </div>

        </div>

      </div>
    </div>
  </div>

  <!---->

  <!--Table-->

  <div class="mt-3 md:px-7 py-3 rounded-xl bg-white border border-solid border-[#EFF0F6]">
    <div class="flex border-b border-solid border-[#EFF0F7]  items-center gap-3 p-[20px_24px]">
      <h5 class="text-darkGray text-base md:text-lg font-medium">
        Recent
        <span>

        </span>
      </h5>
      <div class="rounded text-center">
        <div class=" rounded-full text-center w-auto bg-tabBlue">
          <p class="text-primaryBlue text-sm cursor-pointer font-inter font-medium">
            {{ totalCount }} Reports
          </p>
        </div>
      </div>

    </div>
    <!--Search and Export-->
    <div class="mt-3 bg-white">
      <div class="md:block hidden">
        <form>
          <div class="flex md:flex-row md:justify-between md:items-center flex-col w-full">
            <div class="flex lg:justify-between gap-4">
              <app-search [placeholder]="'Search by name'" (iconSearch)="search($event)" [formGrp]="searchForm"
                formCtrlName="searchPhrase"></app-search>
            </div>

            <div class="flex md:items-center gap-4 ">
              <div>
                <div class="lg:justify-between gap-4">
                  <div class="dropdown dropdown-end">
                    <label tabindex="0"
                      class="flex justify-between bg-[#F5F9FF] rounded-[10px] items-center  border border-none min-w-[101px] py-[8px] px-4 text-sm cursor-pointer">
                      <p class="my-0 text-[#0D47A1] font-inter font-medium text-sm">Export</p>
                      <img src="assets/images/icons/downward_arrow_blue.svg" alt="" class="">
                    </label>
                    <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-white text-black rounded-box w-52">
                      <li (click)="download('CSV')"><a>Export as CSV</a></li>
                      <li (click)="download('Excel')"><a>Export as Excel</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>


          </div>
        </form>

      </div>
      <!---->

      <!--Table Content-->

      <div>

        <div class="overflow-x-auto mt-8 hide-scrollbar">
          <table class="table w-full">
            <thead>
              <tr>

                <th class="text-xs text-lightGray font-medium font-inter bg-tableHeader  ">Initiator</th>
                <th class="flex gap-1 text-xs text-lightGray font-medium font-inter bg-tableHeader ">Date
                </th>
                <th class="text-xs text-lightGray font-medium font-inter bg-tableHeader ">Document Type</th>
                <th class="text-xs text-lightGray font-medium font-inter bg-tableHeader ">Reason
                </th>

              </tr>
            </thead>

            <tbody class="bg-white">
              <tr
                *ngFor="let data of reportDetails | paginate: { itemsPerPage: filterParams.pageSize, currentPage: pageIndex, totalItems: totalCount }"
                class="bg-white">


                <td class="bg-white">
                  <div>
                    <div>
                      <div>
                        <p class="my-0 text-base cursor-pointer font-inter font-medium text-darkGray ">
                          {{data.initiator}}</p>
                      </div>
                    </div>

                  </div>
                </td>

                <td class="bg-white">
                  <div>
                    <p class="my-0 text-base cursor-pointer font-inter font-normal text-lightGray ">
                      {{data?.date | date: 'mediumDate'}}</p>
                    <p class="text-xs font-normal font-inter my-0 text-lightGray">
                      {{data?.date | date: 'shortTime'}}
                    </p>
                  </div>
                </td>

                <td class="bg-white">
                  <div>
                    <p class="my-0 text-base cursor-pointer font-inter font-normal text-lightGray ">
                      {{data.documentType}}</p>

                  </div>
                </td>
                <td class="bg-white">
                  <div>
                    <p class="my-0 text-base cursor-pointer font-inter font-normal text-lightGray ">{{data.reason}}</p>

                  </div>

                </td>

              </tr>
            </tbody>
          </table>


        </div>
      </div>

      <!---->

      <!--Pagination-->
      <div class="flex items-center justify-end mt-10">
        <!-- <p class="text-xs md:text-sm text-[#4E4B66] opacity-50">
                    Showing 1 to 7 of {{ institutionList.length }} entries
                </p> -->
        <div class="flex item gap-3">
          <pagination-controls (pageChange)="getPage(pageIndex = $event)" previousLabel="Prev" nextLabel="Next">
          </pagination-controls>

        </div>
      </div>

    </div>

  </div>



</div>
