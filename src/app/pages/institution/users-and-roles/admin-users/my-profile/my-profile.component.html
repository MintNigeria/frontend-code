<div class="border-1.5 rounded-t-md">
    <h3 class="py-4  border-b-1.5 px-6 font-sans font-bold text-base text-black">Profile</h3>
    <div class="md:p-6 p-3" [formGroup]="profileForm">
        <div class="border-b">
            <div class="lg:w-10/12 ">
                <div class="lg:flex gap-6">
                    <div class="w-full md:w-1/4">
                        <p class="font-inter font-medium text-sm text-lightGray">Profile Picture</p>
                        <p class="font-inter font-normal text-sm text-lightGray">This will be displayed on your profile.</p>
                    </div>
                    <div class="lg:w-full md:w-2/3 mt-3 lg:mt-0">
                        <div class="flex items-start gap-5 mb-9">
                            <img tabindex="0" class="cursor-pointer " routerLink="/main/profile" *ngIf="profileImage !== null" src="data:image/png;base64,{{profileImage}}" class="!w-10 !h-10 rounded-full object-cover" alt="logged user avatar">
                            <img tabindex="0" class="cursor-pointer" routerLink="/main/profile" *ngIf="profileImage === null" src="assets/images/main/Avatar.svg" class="" alt="logged user avatar">
                            <div class="relative  text-[#6E7191] bg-white  py-3 px-4 w-full rounded-lg border-solid border cursor-pointer  flex justify-center items-center">
                                <label for="file1">
                                  <img src="assets/images/auth/upload.svg" alt="uploadIcon"
                                    class="mx-auto flex justify-center items-center" /> &nbsp; &nbsp;
                                  <p *ngIf="selectedFile" class="b-2 text-sm text-gray-500 dark:text-gray-400"> {{selectedFile}} </p>
                                  <p *ngIf="!selectedFile" class="b-2 text-sm text-gray-500 dark:text-gray-400 text-center"> <span
                                      class="font-medium font-inter text-primaryBlue">Click to Upload</span> or drag and drop <br> PDF or JPG
                                    (max. 5mb) </p>
                                </label>
                                <input (change)="handleFileUpload($event)" class="hidden  file:absolute file:w-full file:h-full" type="file"
                                  id="file1" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                            Institution Name
                          </label>
                    </div>
                    <div class="w-full md:w-2/3">
                        <app-input 
                        [formGrp]="profileForm" 
                        formCtrlName="name" 
                        [type]="'text'" 
                        [class]="'px-4 h-[52px] w-full bg-white border focus:bg-white rounded-lg border-[#D0D5DD] placeholder:font-inter placeholder:leading-6 placeholder:text-base placeholder:text-lightGray placeholder:font-normal focus:border-[D0D5DD] outline-none'" 
                        Issuer="Enter your Institution"
                        [name]="'name'"></app-input>
                    </div>
                </div>
                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                            Institution Type
                          </label>
                    </div>
                    <div class="w-full md:w-2/3">
                        <app-input 
                        [formGrp]="profileForm" 
                        formCtrlName="sector" 
                        [type]="'text'" 
                        [class]="'px-4 h-[52px] w-full bg-grayWhite border rounded-lg border-[#D0D5DD] placeholder:font-inter placeholder:leading-6 placeholder:text-base text-lightGray placeholder:font-normal focus:border-[D0D5DD] outline-none'" 
                        Issuer="Institution" 
                        [name]="'sector'"
                        [readonly]="true"></app-input>
                    </div>
                </div>
                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                            Email address
                          </label>
                    </div>
                    <div class="w-full md:w-2/3">
                        <app-input 
                        [formGrp]="profileForm" 
                        formCtrlName="email" 
                        [type]="'email'" 
                        [class]="'px-4 h-[52px] w-full bg-grayWhite border rounded-lg border-[#D0D5DD] placeholder:font-inter placeholder:leading-6 placeholder:text-base text-lightGray placeholder:font-normal focus:border-[D0D5DD] outline-none'" 
                        Issuer="Email Address" 
                        [name]="'Email'"
                        [readonly]="true"></app-input>
                    </div>
                </div>
                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                            Phone Number
                          </label>
                    </div>
                    <div class="w-full md:w-2/3">
                        <app-input 
                        [formGrp]="profileForm" 
                        formCtrlName="phone" 
                        [type]="'tel'" 
                        [class]="'px-4 h-[52px] w-full bg-white border focus:bg-white rounded-lg border-[#D0D5DD] placeholder:font-inter placeholder:leading-6 placeholder:text-base placeholder:text-lightGray placeholder:font-normal focus:border-[D0D5DD] outline-none'" 
                        Issuer="Phone Number" [name]="'phone'"></app-input>
                    </div>
                </div>
                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                            Date of Establishment
                          </label>
                    </div>
                    <div class="w-full flex-wrap md:w-2/3">
                        <app-input 
                        [formGrp]="profileForm" 
                        formCtrlName="establishment" 
                        [type]="'text'" 
                        [class]="'px-4 h-[52px] w-full bg-grayWhite border rounded-lg border-[#D0D5DD] placeholder:font-inter placeholder:leading-6 placeholder:text-base text-lightGray placeholder:font-normal focus:border-[D0D5DD] outline-none'" 
                        Issuer="Date of Establishment" 
                        [name]="'establishment'"
                        [readonly]="true"></app-input>
                    </div>
                </div>

                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                            Registration Type
                          </label>
                    </div>
                    <div class="w-full md:w-2/3">
                        <app-input 
                        [formGrp]="profileForm" 
                        formCtrlName="type" 
                        [type]="'text'" 
                        [class]="'px-4 h-[52px] w-full bg-grayWhite border rounded-lg border-[#D0D5DD] placeholder:font-inter placeholder:leading-6 placeholder:text-base text-lightGray placeholder:font-normal focus:border-[D0D5DD] outline-none'" 
                        Issuer="Registration Type" 
                        [name]="'type'"
                        [readonly]="true"></app-input>
                    </div>
                </div>

                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                            Registration Number
                          </label>
                    </div>
                    <div class="w-full md:w-2/3">
                        <app-input 
                        [formGrp]="profileForm" 
                        formCtrlName="regNumber" 
                        [type]="'text'" 
                        [class]="'px-4 h-[52px] w-full bg-grayWhite border rounded-lg border-[#D0D5DD] placeholder:font-inter placeholder:leading-6 placeholder:text-base text-lightGray placeholder:font-normal focus:border-[D0D5DD] outline-none'" 
                        Issuer="Registration Number" 
                        [name]="'regNumber'"
                        [readonly]="true"></app-input>
                    </div>
                </div>

                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                            State
                          </label>
                    </div>
                    <div class="w-full md:w-2/3" *ngIf="stateLGA$ | async as states">
                        <ng-select class="custom-ng-dropdown"
                        formControlName="state"
                        [selectOnTab]="true"
                        placeholder="Select State"
                        (change)="selectLocalGovt($event)"
                        >
                    <ng-option *ngFor="let state of states" [value]="state">{{state.name}}</ng-option>
                    </ng-select>
                    </div>
                </div>
                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                           Local Government
                          </label>
                    </div>
                    <div class="w-full md:w-2/3">
                        <ng-select class="custom-ng-dropdown" 
                        formControlName="lga" 
                        [selectOnTab]="true" 
                        placeholder="Select LGA"
                        (change)="selectLga($event)"

                        >
                    <ng-option *ngFor="let lga of lga" [value]="lga">{{lga.name}}</ng-option>
                    </ng-select>
                    </div>
                </div>
                <div class="flex flex-wrap gap-6 mb-9">
                    <div class="w-full md:w-1/4">
                        <label class=" font-inter font-medium lg:text-sm text-xs text-failedNormal" for="inline-full-name">
                            Address
                          </label>
                    </div>
                    <div class="w-full md:w-2/3">
                        <app-input 
                        [formGrp]="profileForm" 
                        formCtrlName="address" 
                        [type]="'email'" 
                        [class]="'px-4 h-[52px] w-full bg-white border focus:bg-white rounded-lg border-[#D0D5DD] placeholder:font-inter placeholder:leading-6 placeholder:text-base placeholder:text-lightGray placeholder:font-normal focus:border-[D0D5DD] outline-none'" 
                        Issuer="Enter your address" [name]="'Email'"></app-input>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="flex justify-end items-center gap-4 mt-4">
            <!-- <app-button
            
            [overRideButtonClass]="true"
            customClass="px-3 py-2 rounded-lg font-inter font-medium text-sm   bg-white border text-failedNormal"
            >Cancel</app-button> -->
            <app-button
            (buttonClick)="openChangesConfirmed()"
            [overRideButtonClass]="true"
            customClass="px-3 py-2 rounded-lg font-inter font-medium text-sm text-white  bg-primaryBlue"
            >Save</app-button>
        </div>
    </div>
</div>

<app-modal [id]="confirmChanges">
    <div class="lg:rounded-xl bg-white hide-scrollbar  lg:p-2 p-6 modal-box">
        <div class="grid grid-rows-2 justify-items-center mt-8">
            <img src="assets/images/icons/warning.svg" alt="warning_icon">
            <h3 class="font-inter font-medium text-xl text-discountBlue mt-8">Save Changes?</h3>
            <p class="text-center lg:w-96 font-inter font-normal text-sm text-failedNormal mt-8 px-10">
                Are you sure you want to update your profile information?
            </p>
        </div>
        <div class="flex justify-center mt-8 mb-8 gap-3">
            <app-button
            [overRideButtonClass]="true"
            [customClass]="'bg-white rounded-lg border border-buttonBlue  hover:bg-buttonBlue hover:text-white text-buttonBlue text-base font-medium font-inter py-2 px-4'"
            (buttonClick)="cancelConfirmChanges()">
             No ,Cancel
            </app-button>
            <app-button
            [overRideButtonClass]="true"
            [customClass]="'bg-buttonBlue rounded-lg  hover:bg-buttonBlue text-white text-base font-medium font-inter py-2 px-4'"
            (buttonClick)=" saveUpdates()"
            >
                Yes, Update
            </app-button>
        </div>
    </div>
</app-modal>

<app-modal [id]="changesConfirmed">
    <div class="toast toast-center">
        <div class="alert alert-success flex justify-between items-center">
            <div class="font-avenir font-meduim lg:text-lg text-base">
                <span>Your changes have been saved successfully!</span>
            </div>
            <label [for]="changesConfirmed">
                <img src="assets/images/icons/x.svg" alt="close_toast">
            </label>
        </div>
    </div>
</app-modal>